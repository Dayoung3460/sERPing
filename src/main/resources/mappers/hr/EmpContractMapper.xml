<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.beauty1nside.hr.mapper.EmpContractMapper">
	
    <!-- 근로 계약 목록 조회 -->
    <select id="getContractList" resultType="com.beauty1nside.hr.dto.EmpContractDTO">
        SELECT 
            ec.contract_num,
            ec.employee_num,
            e.employee_name,
            ec.contract_type,
            ec.contract_start_date,
            ec.contract_end_date,
            ec.salary,
            ec.work_hours,
            ec.probation_period,
            ec.contract_status,
            ec.department_num,
            d.department_name,
            ec.position,
            ec.company_num
        FROM HR_EMPLOYEE_CONTRACT ec
        LEFT JOIN hr_employee e on ec.employee_num = e.employee_num
        LEFT JOIN hr_department d on ec.department_num = d.department_num
    </select>

    <!-- 근로 계약 등록 -->
    <insert id="insertContract">
        INSERT INTO HR_EMPLOYEE_CONTRACT (
            CONTRACT_NUM, EMPLOYEE_NUM, CONTRACT_TYPE, CONTRACT_START_DATE, CONTRACT_END_DATE,
            SALARY, WORK_HOURS, PROBATION_PERIOD, CONTRACT_STATUS, DEPARTMENT_NUM, POSITION, COMPANY_NUM
        ) VALUES (
            HR_CONTRACT_SEQ.NEXTVAL, #{employeeNum}, #{contractType}, #{contractStartDate}, #{contractEndDate},
            #{salary}, #{workHours}, #{probationPeriod}, 'CS001', #{departmentNum}, #{position}, #{companyNum}
        )
    </insert>



	
</mapper>