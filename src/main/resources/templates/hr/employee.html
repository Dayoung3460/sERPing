<!DOCTYPE html>
<html layout:decorate="~{layouts/layout}" lang="en"
	xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	xmlns="http://www.w3.org/1999/xhtml" xmlns:sec="">

<head>
<meta charset="UTF-8">
<!-- timePicker -->
<link rel="stylesheet"
	href="https://uicdn.toast.com/tui.time-picker/latest/tui-time-picker.css" />
<script
	src="https://uicdn.toast.com/tui.time-picker/latest/tui-time-picker.js"></script>

<!-- datePicker -->
<link rel="stylesheet"
	href="https://uicdn.toast.com/tui.date-picker/latest/tui-date-picker.css" />
<script
	src="https://uicdn.toast.com/tui.date-picker/latest/tui-date-picker.js"></script>


<!-- paging -->
<link rel="stylesheet"
	href="https://uicdn.toast.com/tui.pagination/latest/tui-pagination.css" />
<script
	src="https://uicdn.toast.com/tui.pagination/latest/tui-pagination.js"></script>

<!-- toast grid -->
<link rel="stylesheet"
	href="https://uicdn.toast.com/grid/latest/tui-grid.css" />
<script src="https://uicdn.toast.com/grid/latest/tui-grid.js"></script>

<!-- 엑셀 -->
<script lang="javascript"
	src="https://cdn.sheetjs.com/xlsx-0.20.2/package/dist/xlsx.full.min.js"></script>
<!-- bootsStrap -->
<link
	href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
	rel="stylesheet"
	integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
	crossorigin="anonymous">
<script
	src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
	integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
	crossorigin="anonymous"></script>

<!-- custom CSS -->
<link rel="stylesheet" th:href="@{/css/hr/style.css}">



<title>사원 관리</title>
</head>

<body layout:fragment="content">

	<div class="container">
		<div class="d-flex justify-content-start p-0 mt-2">
			<h2>사원 관리</h2>
		</div>
		<div class="d-flex flex-column mb-1">

			<!-- 사원 검색 영역 -->
			<div class="search-box bg-light p-3 rounded shadow-sm">
				<!-- 검색 기준 -->
				<div class="mb-2">
					<label class="fw-bold d-block">검색 기준</label>
					<div class="d-flex">
						<select class="form-select me-2" style="width: 120px;"
							id="searchCategory">
							<option value="전체">전체</option>
							<option value="employeeName">사원명</option>
							<option value="employeeId">사원ID</option>
							<option value="phone">연락처</option>
						</select> <input type="text" class="form-control" style="width: 250px;"
							placeholder="검색어 입력" id="searchKeyword">
					</div>
				</div>

				<!-- 부서 -->
				<!-- 부서 선택 -->
				<label class="fw-bold d-block">부서</label>
				<select class="form-select" id="searchDepartment">
				    <option value="">선택</option>
				</select>
				
				<!-- 하위 부서 선택 -->
				<label class="fw-bold d-block mt-2">하위 부서</label>
				<select class="form-select" id="searchSubDepartment">
				    <option value="">선택</option>
				</select>

				<!-- 직급 -->
				<div class="mb-2">
				    <label class="fw-bold d-block">직급</label> 
				    <select class="form-select" style="width: 100%;" id="searchPosition">
				        <option value="">선택</option>
				    </select>
				</div>

				<!-- 재직 상태 -->
				<div class="mb-2">
				    <label class="fw-bold d-block">재직 상태</label>
				    <div class="btn-group w-100" role="group" id="statusGroup">
				    </div>
				</div>

				<!-- 근무 유형 -->
				<div class="mb-3">
				    <label class="fw-bold d-block">근무 유형</label>
				    <div class="btn-group w-100" role="group" id="employmentTypeGroup">
				    </div>
				</div>

				<!-- 조회 및 초기화 버튼 (중앙 정렬) -->
				<div class="w-100 text-center mt-3">
					<button class="btn btn-primary me-2" onclick="searchEmployees()" id="searchBtn">
						조회</button>
					<button class="btn btn-outline-success" onclick="resetFilters()">
						초기화</button>
				</div>
			</div>
			<!-- 사원 검색 영역 끝 -->

			<!-- 토스트 그리드 영역 -->
			<div id="table-container">
				<div id="grid"></div>
				<div id="pagination" class="tui-pagination"></div>
			</div>
			<!-- 토스트 그리드 영역 끝 -->

			<!-- 버튼 영역 -->
			<div class="pt-2">
				<button class="btn btn-success" data-bs-toggle="modal" data-bs-target="#empRegisterModal" onclick="openEmployeeForm()">사원
					등록</button>
			<!-- 모달을 다른 HTML에서 불러오기 -->
			<div th:replace="~{hr/emp_register_modal :: empRegisterModal}"></div>

				<button class="btn btn-danger" onclick="deleteEmployee()">삭제</button>
			</div>
		</div>
		

	</div>
	
	
	<!-- 사원 관리 및 Toast Grid 설정 -->
	<script src="/js/hr/employee.js"></script>
	
	<!-- 공통 코드 관리 -->
	<script src="/js/hr/common-codes.js"></script>
		
</body>
</html>